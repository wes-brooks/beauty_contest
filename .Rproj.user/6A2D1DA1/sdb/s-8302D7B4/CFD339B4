{
    "contents" : "#Establish the file of labels:\nsink(\"labels.txt\", append=FALSE)\n\n# returns string w/o leading or trailing whitespace\ntrim <- function (x) gsub(\"^\\\\s+|\\\\s+$\", \"\", x)\n\n#Find which samples have both a spectrum and an entry in dfAll\nresponse = \"BACHUM.cn.100mls\"\ngr = trim(colnames(a[1,,]))\nfor (g in gr) {\n    if(g %in% dfAll$GRnumber && !is.na(dfAll[[response]][which(dfAll$GRnumber==g)])) {\n        #The trailing [1] is because a few samples matched duplicate gr-numbers\n        indx1 = which(dfAll$GRnumber==g)[1]\n        indx2 = which(colnames(a[1,,])==g)[1]\n        \n        #Plot the EEM spectrum\n        p=trimplot(a[,,indx2])\n        png(paste(g, \".png\", sep=''))\n        print(p)\n        dev.off()\n            \n        #Write the response variable to the output file\n        cat(paste(dfAll[[response]][indx1], \"\\n\", sep=\"\"))\n    }\n}\n\n#Close the output file\nsink()\n",
    "created" : 1393889818664.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "852299979",
    "id" : "CFD339B4",
    "lastKnownWriteTime" : 1393893586,
    "path" : "~/eem/script.r",
    "project_path" : null,
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}